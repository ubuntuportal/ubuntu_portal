# Generated by Django 4.2.15 on 2024-08-31 16:30

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('products', '0002_product_seller_category_products_ca_name_693421_idx_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='RFQ',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('rfq_date', models.DateTimeField(auto_now_add=True)),
                ('status', models.CharField(choices=[('Pending', 'Pending'), ('Approved', 'Approved'), ('Rejected', 'Rejected')], default='Pending', max_length=20)),
                ('sourcing_quantity', models.IntegerField()),
                ('quantities_measurements', models.CharField(choices=[('pieces', 'pieces'), ('kg', 'kilograms'), ('liters', 'liters'), ('meters', 'meters'), ('boxes', 'boxes'), ('acres', 'acres'), ('amperes', 'amperes'), ('bags', 'bags'), ('barrels', 'barrels'), ('blades', 'blades'), ('bushels', 'bushels'), ('carats', 'carats'), ('cartons', 'cartons'), ('cases', 'cases'), ('centimeters', 'centimeters'), ('chains', 'chains'), ('combos', 'combos'), ('cubic centimeters', 'cubic centimeters'), ('cubic feet', 'cubic feet'), ('cubic inches', 'cubic inches'), ('cubic meters', 'cubic meters'), ('cubic yards', 'cubic yards'), ('celsius', 'Celsius'), ('fahrenheit', 'Fahrenheit'), ('dozens', 'dozens'), ('drams', 'drams'), ('fluid ounces', 'fluid ounces'), ('feet', 'feet'), ('forty-foot container', 'forty-foot container'), ('furlongs', 'furlongs'), ('gallons', 'gallons'), ('gills', 'gills'), ('grains', 'grains'), ('grams', 'grams'), ('gross', 'gross'), ('hectares', 'hectares'), ('hertz', 'hertz'), ('inches', 'inches'), ('kiloamperes', 'kiloamperes'), ('kilohertz', 'kilohertz'), ('kiloohms', 'kiloohms'), ('kilovolts', 'kilovolts'), ('kilowatts', 'kilowatts'), ('liters', 'liters'), ('long tons', 'long tons'), ('megahertz', 'megahertz'), ('metric tons', 'metric tons'), ('miles', 'miles'), ('milliamperes', 'milliamperes'), ('milligrams', 'milligrams'), ('millihertz', 'millihertz'), ('milliliters', 'milliliters'), ('millimeters', 'millimeters'), ('milliohms', 'milliohms'), ('millivolts', 'millivolts'), ('milliwatts', 'milliwatts'), ('nauctical miles', 'nautical miles'), ('ohms', 'ohms'), ('ounces', 'ounces'), ('packs', 'packs'), ('pairs', 'pairs'), ('pallets', 'pallets'), ('parcels', 'parcels'), ('perches', 'perches'), ('pieces', 'pieces'), ('pints', 'pints'), ('plants', 'plants'), ('poles', 'poles'), ('pounds', 'pounds'), ('quarts', 'quarts'), ('quarters', 'quarters'), ('rods', 'rods'), ('rolls', 'rolls'), ('sets', 'sets'), ('sheets', 'sheets'), ('short tons', 'short tons'), ('square centimeters', 'square centimeters'), ('square feet', 'square feet'), ('square inches', 'square inches'), ('square meters', 'square meters'), ('square miles', 'square miles'), ('square yards', 'square yards'), ('stones', 'stones'), ('strands', 'strands'), ('tons', 'tons'), ('tonnes', 'tonnes'), ('trays', 'trays'), ('twenty-foot container', 'twenty-foot container'), ('units', 'units'), ('volts', 'volts'), ('watts', 'watts'), ('Wp', 'Wp'), ('yards', 'yards')], default='pieces', max_length=255)),
                ('detailed_requirements', models.TextField()),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10)),
                ('media', models.FileField(blank=True, null=True, upload_to='medial/')),
                ('buyer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='buyer_rfq', to=settings.AUTH_USER_MODEL)),
                ('product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='products.product')),
            ],
        ),
        migrations.CreateModel(
            name='Quotation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('status', models.IntegerField(choices=[(1, 'Quoted'), (2, 'Rejected'), (3, 'Accepted')], db_index=True, default=1)),
                ('quotation_date', models.DateField(auto_now_add=True)),
                ('quoted_price_per_unit', models.DecimalField(decimal_places=2, max_digits=10)),
                ('delivery_time', models.DateField()),
                ('total_price', models.DecimalField(decimal_places=2, max_digits=15)),
                ('additional_notes', models.TextField(blank=True, null=True)),
                ('attachments', models.FileField(blank=True, null=True, upload_to='quotation_attachments/')),
                ('rfq', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='quotations', to='rfqs.rfq')),
                ('seller', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='quotations', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddIndex(
            model_name='rfq',
            index=models.Index(fields=['product', 'buyer', 'rfq_date'], name='rfqs_rfq_product_bfc8b5_idx'),
        ),
        migrations.AddIndex(
            model_name='quotation',
            index=models.Index(fields=['rfq', 'quotation_date'], name='rfqs_quotat_rfq_id_9e87b9_idx'),
        ),
    ]
